<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<body style="width: 100%;">
    <div class="container mt-5">
        <div class="row custom-wrapper">
            <div class="arriba">
            <i class="fa fa-plus" style="align-items: center;" id="mainlogo"></i>
            <!-- selección de producto -->
            <h2 class="titulo">Crear nuevo producto</h2>
        </div>
             <!-- Preview de el producto-->
        <div class="preview" style="justify-content: center; align-items: center; display: flex">
            <mat-card class="example-card" style="max-width: 50%; width: 50%;">
                <img mat-card image height="40%" width="40%" src="{{this.image.value}}"
                    alt="Photo of {{this.name.value}}">
                <mat-card-header>
                    <mat-card-title>{{this.name.value}}</mat-card-title>
                    <mat-card-subtitle>
                        <p class="price">${{this.price.value}} USD</p>
                    </mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <p class="description">{{this.description.value}}</p>
                    <p class="stock">Stock: {{this.stock.value}} | Distribuidor: {{this.provider.value}}</p>
                </mat-card-content>
            </mat-card>
        </div>
        <hr>

        <div class="row justify-content-center my-5">
            <div class="col-4">
                <form [formGroup]="reactiveForm" #form="ngForm">
                    <div class="row">
                        <div class="col mb-2">
                            <label for="name" class="form-label">Nombre del producto:</label>
                            <input type="text" id="name" name="name" formControlName="name"
                                placeholder="Ponle un nombre creativo a tu producto" required minlength="1"
                                maxlength="250" class="form-control form-control-sm"
                                [class.is-invalid]="name.invalid && (name.dirty || name.touched)">
                            <div *ngIf="name.invalid && (name.dirty || name.touched)" class="invalid-feedback">
                                <div *ngIf="name.errors?.['required']">
                                    Este campo es obligatorio!
                                </div>
                                <div *ngIf="name.errors?.['minlength']">
                                    Este campo debe tener como mínimo 1 caracter.
                                </div>
                                <div *ngIf="name.errors?.['maxlength']">
                                    Este campo debe tener como máximo 30 caracteres.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col mb-2">
                            <label for="description" class="form-label">Descripcion:</label>
                            <input type="text" id="description" name="description" formControlName="description"
                                placeholder="Descripción del producto" required minlength="1" maxlength="250"
                                class="form-control form-control-sm"
                                [class.is-invalid]="description.invalid && (description.dirty || description.touched)">
                            <div *ngIf="description.invalid && (description.dirty || description.touched)"
                                class="invalid-feedback">
                                <div *ngIf="description.errors?.['required']">
                                    Este campo es obligatorio!
                                </div>
                                <div *ngIf="description.errors?.['minlength']">
                                    Este campo debe tener como mínimo 1 caracter.
                                </div>
                                <div *ngIf="description.errors?.['maxlength']">
                                    Este campo debe tener como máximo 250 caracteres.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col mb-2">
                            <label for="price" class="form-label">Precio:</label>
                            <input type="number" id="price" name="price" formControlName="price"
                                placeholder="$Precio en dolares" required minlength="1" maxlength="250"
                                class="form-control form-control-sm"
                                [class.is-invalid]="price.invalid && (price.dirty || price.touched)">
                            <div *ngIf="price.invalid && (price.dirty || price.touched)" class="invalid-feedback">
                                <div *ngIf="price.errors?.['required']">
                                    Este campo es obligatorio!
                                </div>
                                <div *ngIf="price.errors?.['minlength']">
                                    Este campo debe tener como mínimo 1 caracter.
                                </div>
                                <div *ngIf="price.errors?.['maxlength']">
                                    Este campo debe tener como máximo 5 caracteres.
                                </div>
                                <div
                                    *ngIf="!price.errors?.['required'] && !price.errors?.['minlength'] && !price.errors?.['maxlength']">
                                    Precio inválido!
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col mb-2">
                            <label for="provider" class="form-label">Proveedor:</label>
                            <input type="text" id="provider" name="provider" formControlName="provider"
                                placeholder="Proveedor / Distribuidor del producto" required minlength="1"
                                maxlength="250" class="form-control form-control-sm"
                                [class.is-invalid]="provider.invalid && (provider.dirty || provider.touched)">
                            <div *ngIf="provider.invalid && (provider.dirty || provider.touched)"
                                class="invalid-feedback">
                                <div *ngIf="provider.errors?.['required']">
                                    Este campo es obligatorio!
                                </div>
                                <div *ngIf="provider.errors?.['minlength']">
                                    Este campo debe tener como mínimo 5 caracteres.
                                </div>
                                <div *ngIf="provider.errors?.['maxlength']">
                                    Este campo debe tener como máximo 250 caracteres.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col mb-2">
                            <label for="stock" class="form-label">Stock:</label>
                            <input type="number" id="stock" name="stock" formControlName="stock"
                                placeholder="Cantidad de disponibilidad" required minlength="1" maxlength="250"
                                class="form-control form-control-sm"
                                [class.is-invalid]="stock.invalid && (stock.dirty || stock.touched)">
                            <div *ngIf="stock.invalid && (stock.dirty || stock.touched)" class="invalid-feedback">
                                <div *ngIf="stock.errors?.['required']">
                                    Este campo es obligatorio!
                                </div>
                                <div *ngIf="stock.errors?.['minlength']">
                                    Este campo debe tener como mínimo 1 caracter.
                                </div>
                                <div *ngIf="stock.errors?.['maxlength']">
                                    Este campo debe tener como máximo 250 caracteres.
                                </div>
                                <div
                                    *ngIf="!stock.errors?.['required'] && !stock.errors?.['minlength'] && !stock.errors?.['maxlength']">
                                    Stock inválido!
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col mb-2">
                            <label for="image" class="form-label">Imagen de producto (Imgur HTTPS):</label>
                            <input type="text" id="image" name="image" formControlName="image"
                                placeholder="URL a la imagen" required minlength="1" maxlength="250"
                                class="form-control form-control-sm"
                                [class.is-invalid]="image.invalid && (image.dirty || image.touched)">
                            <div *ngIf="image.invalid && (image.dirty || image.touched)" class="invalid-feedback">
                                <div *ngIf="image.errors?.['required']">
                                    Este campo es obligatorio!
                                </div>
                                <div *ngIf="image.errors?.['minlength']">
                                    Este campo debe tener como mínimo 1 caracter.
                                </div>
                                <div *ngIf="image.errors?.['maxlength']">
                                    Este campo debe tener como máximo 250 caracteres.
                                </div>
                                <div
                                    *ngIf="!image.errors?.['required'] && !image.errors?.['minlength'] && !image.errors?.['maxlength']">
                                    image inválido!
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" id="actions">
                        <div class="col mb-2 d-grid">
                            <button type="button" class="final" (click)="validate()">Crear producto</button>
                        </div>
                    </div>
                </form>